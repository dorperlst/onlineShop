


 

   <head>
    
    <!DOCTYPE html>
    
    <html>
      <link rel="stylesheet" href="/css/styles.css">
      <link rel="icon" href="/img/weather.png">
    </head>
    <body>
      <div class="wrapper">
        <%- include('../partials/header.ejs') %>
     

        <article class="main">

      <div id = "popup" style="display: none;" >  
        <a class="close" onclick="closePopUp()" ><img src="../../images/close.png"> </a>
        <div  style="display: none;" id ="imagesDiv">
          <a class="close" onclick="closeImages()" ><img src="../../images/close.png"> </a>
          <ul class="grid-wrapper"id = "images"></ul>
        </div>
        <form id="contact" action="" method="post">
        
          <h3>Update</h3>
          
          <div class="flex-container">
            <label class="flex-item">  Name</label>
            <input class="flex-item" placeholder="Name" id="formname" name="formname" type="text" tabindex="1" required autofocus>
          
          </div>
        
          <div class="flex-container">
            <label class="flex-item">  Category</label>
            <select class="flex-item" name="categories">
            <% categories.forEach(function(category) { %>
                <option value="<%= category._id %>"><%= category.name %></option>
              <% }); %>
            </select>
          </div>
        
          <div class="flex-container">
            <label class="flex-item">  Description</label>
            <textarea class="flex-item" id ="description" name="description" placeholder="Product Description...." tabindex="5" required></textarea>
          </div>
          <div class="product">
              <div class="flex-container">
                <label class="flex-item">  Price</label>
                <input class="flex-item"  id="price" name="price" placeholder="Price" type="text" tabindex="2" >
              </div>
              <div class="flex-container">
                <label class="flex-item">  Attributes  </label> 
                <a class="flex-item" onclick="addAttributes(false)"><img src="../../images/add.png"></a>
              </div>
              <div class="flex-container">
                <ul class="flex-item "  id = "ulAttributes"></ul>
              </div>
              <div class="flex-container">
                <label class="flex-item"> Images Attributes  </label> 
                <a class="flex-item" onclick="addAttributes(true)"><img src="../../images/add.png"></a>
              </div>
              <div class="flex-container"> 
                <ul class="flex-item " id = "imgAttributes"></ul>
              </div>
            
              <div class="flex-container">
                <label class="flex-item"> Details </label> 
                <a  onclick="addDetails()"> <img src="../../images/add.png"></a> 
              </div>
                <div class="flex-container"> 
                <ul class="flex-item nested" id = "details"></ul>
              </div>

              <div class="flex-container">
                <label class="flex-item"> Tags </label> 
                <a  onclick="addTags()"> <img src="../../images/add.png"></a> 
              </div>
                <div class="flex-container"> 
                <ul class="flex-item" id = "tags"></ul>
              </div>
              
          </div>
          <div class="flex-container">
            <a onclick="showImages()"> Images... </a> 
          </div>
        
          <div class="flex-container">
              Select images: <input type="file" onchange="loadImageFileAsURL()" id="productFiles" name="myFiles" multiple>
          </div>
        
          <div class="flex-container">
            <button name="submit" type="submit" id="contact-submit" data-submit="...Sending">Submit</button>

          </div>
          <input type="hidden" value = "" id="id"  name="id">
        </form>
  
        <div id ="fileDiv"></div>
        <input type="hidden" value ='<%= shopname %>' id=shopname>
  
      </div>
          <div   id="productsWrapper" >

            <div  class="flex-container add">
              <span class="flex-item"> Products</span>
              <a class="flex-item" onclick = addProduct() > <img  class ="actionImg" src="../../images/add.png"></a>
  
            </div>

            <section id="productsDiv" class="grid-wrapper">
              <% products.forEach(function(product) { %>
                <div class="product-card">
                  <div class="product-image">   
                    <% if ( product.images[0]) { %>
                      <img alt="" border="0"  src="../../uploads/<%= product.images[0] %>"></img> 
                    <% } else  { %>
                      <img  src="../../uploads/default.png"></img> 
                    <% }  %>
                  </div>
              
                  <div class="product-info">
                    <label><%= product.name %> </label>
                    <label><%= product.price %>$</label>
                    <a onclick="editProduct('<%= product._id %>')">Edit</a> 
                    <a onclick="deleteProduct('<%= product._id %>')">Delete</a>            
                  </div>
    
              <% }); %>
              </section>
          </div>
        
      </article>
        <aside class="aside aside-1">
          <div class="left_content">
            <%- include('../partials/categories.ejs') %>
          </div>
        </aside>
       
        <footer class="footer">Footer</footer>
      </div>
  </body>
</html>










 
 



























 

 
  <script src="/js/admin.js"></script>
 

     
 
      